import{d as Ie,i as v,j as se,v as Ae,o as u,c as _,a as p,b as e,w as a,n as L,K as Ke,t as c,h as d,l as U,C as x,F as Y,z as Ge,m as Oe,q as Z,E as D,r as m,A as Ze,L as Je,M as Qe,N as We,D as me,O as Xe,s as pe,f as el}from"./index-BA-avvAI.js";import{g as j}from"./gala-9ZFv5Bwp.js";import{_ as ll}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-DUWW7KIc.js";const al={class:"platform-detail-page page-container"},tl={class:"page-header"},ol={class:"page-title-section"},sl={class:"page-title"},rl={class:"platform-emoji"},nl={class:"page-actions"},il={key:0,class:"info-section"},ul={key:0,class:"card"},dl={class:"platform-name"},ml={class:"short-name"},pl={class:"emoji-display"},cl={key:0,class:"empty-text"},fl={key:1,class:"empty-text"},_l={key:1,class:"card"},vl={style:{display:"flex","align-items":"center",gap:"8px"}},gl={key:0,style:{"font-size":"32px"}},yl={key:1,class:"programs-section"},bl={class:"card stats-card"},Vl={class:"stat-item"},hl={class:"stat-value"},wl={class:"stat-item"},kl={class:"stat-value"},Ul={class:"stat-item"},Tl={class:"stat-value"},xl={class:"stat-item"},Cl={class:"stat-value"},Dl={class:"actions-bar"},Nl={class:"card"},Sl={key:1},Pl={key:2},jl={key:1},zl={key:1},Bl={key:0,class:"empty-state"},Rl={key:1,class:"pagination-container"},Fl=Ie({__name:"PlatformDetail",setup(Ml){const ce=Oe(),re=el(),F=v(parseInt(ce.params.id)),M=v("info"),J=v("basic"),S=v(!1),Q=v(!1),q=v(!1),W=v(),fe=v(),H=v(),n=se({id:0,name:"",shortName:"",emoji:"",year:0,sort:0,isShow:!0,tags:[],description:"",airDate:"",airTime:"",channel:"",sourceUrl:""}),o=se({name:"",shortName:"",emoji:"ğŸ“º",year:new Date().getFullYear(),sort:0,isShow:!0,tags:[],selectedTags:[],description:"",airDate:"",airTime:"",channel:"",sourceUrl:""}),_e={name:[{required:!0,message:"è¯·è¾“å…¥å¹³å°åç§°",trigger:"blur"}],year:[{required:!0,message:"è¯·è¾“å…¥å¹´ä»½",trigger:"blur"}]},ve=["å¤®è§†","å«è§†","ç½‘ç»œ","ä¸»ä¼šåœº","åˆ†ä¼šåœº","å…¨çƒç›´æ’­","4K","8K","VR","AR","å›½æ½®","å›½é£","ä¼ ç»Ÿæ–‡åŒ–","ç§‘æŠ€åˆ›æ–°","Zä¸–ä»£","äºŒæ¬¡å…ƒ","å¹´è½»åŒ–","æ½®æµ","çŸ­è§†é¢‘","äº’åŠ¨","ç¤¾äº¤","æ¥åœ°æ°”","å¿«ä¹","é’æ˜¥","äº¬å‘³å„¿","å†°é›ª","æµ·æ´¾","éƒ½å¸‚","ä¸­å›½è“","è”æ"],C=v([]),N=v(-1),$=v(null),z=v(""),B=v(""),X=v(1),ee=v(20),I=Z(()=>{let r=C.value;if(z.value){const l=z.value.toLowerCase();r=r.filter(s=>{var y,T;return((y=s.title)==null?void 0:y.toLowerCase().includes(l))||((T=s.performers)==null?void 0:T.toLowerCase().includes(l))})}return B.value&&(r=r.filter(l=>l.type===B.value)),r}),ge=Z(()=>{const r=(X.value-1)*ee.value,l=r+ee.value;return I.value.slice(r,l)}),ye=Z(()=>new Set(C.value.map(l=>l.type).filter(Boolean)).size),be=Z(()=>{const r=C.value.map(l=>l.performers).filter(Boolean).join(",").split(/[,ï¼Œã€]/).map(l=>l.trim()).filter(Boolean);return new Set(r).size}),E=v(!1),le=v(!1),g=se({title:"",type:"",performers:"",airTime:"",orderNum:0,duration:0,description:""}),Ve={title:[{required:!0,message:"è¯·è¾“å…¥èŠ‚ç›®åç§°",trigger:"blur"}]},he=r=>{if(!r)return"-";const l=r.includes("T")?r.split("T")[0]:r,s=new Date(l),y=s.getFullYear(),T=s.getMonth()+1,ae=s.getDate();return`${y}å¹´${T}æœˆ${ae}æ—¥`},we=()=>{const r=C.value.reduce((y,T)=>y+(T.duration||0),0);if(r===0)return"-";const l=Math.floor(r/3600),s=Math.floor(r%3600/60);return l>0?`${l}å°æ—¶${s}åˆ†é’Ÿ`:`${s}åˆ†é’Ÿ`},ne=async()=>{var r;try{const s=(r=(await j.adminGetPlatforms({})).list)==null?void 0:r.find(y=>y.id===F.value);if(s){const y=Array.isArray(s.tags)?s.tags:[];n.id=s.id,n.name=s.name,n.shortName=s.shortName||"",n.emoji=s.emoji||"",n.year=s.year||0,n.sort=s.sort||0,n.isShow=s.isShow!==void 0?s.isShow:!0,n.tags=y,n.description=s.description||"",n.airDate=s.airDate||"",n.airTime=s.airTime||"",n.channel=s.channel||"",n.sourceUrl=s.sourceUrl||"",o.name=s.name,o.shortName=s.shortName||"",o.emoji=s.emoji||"ğŸ“º",o.year=s.year||new Date().getFullYear(),o.sort=s.sort||0,o.isShow=s.isShow!==void 0?s.isShow:!0,o.tags=y,o.selectedTags=y,o.description=s.description||"",o.airDate=s.airDate||"",o.airTime=s.airTime||"",o.channel=s.channel||"",o.sourceUrl=s.sourceUrl||""}}catch(l){console.error("åŠ è½½å¹³å°è¯¦æƒ…å¤±è´¥:",l),D.error("åŠ è½½å¹³å°è¯¦æƒ…å¤±è´¥")}},A=async()=>{q.value=!0;try{const r=await j.adminGetPrograms({platformId:F.value});C.value=r.list||[]}catch(r){console.error("åŠ è½½èŠ‚ç›®åˆ—è¡¨å¤±è´¥:",r),D.error("åŠ è½½èŠ‚ç›®åˆ—è¡¨å¤±è´¥")}finally{q.value=!1}},ke=()=>{re.push("/content/gala")},Ue=()=>{S.value=!0,M.value="info",J.value="basic"},Te=()=>{S.value=!1,o.name=n.name,o.shortName=n.shortName,o.emoji=n.emoji||"ğŸ“º",o.year=n.year,o.sort=n.sort,o.isShow=n.isShow,o.tags=n.tags,o.selectedTags=n.tags,o.description=n.description,o.airDate=n.airDate,o.airTime=n.airTime,o.channel=n.channel,o.sourceUrl=n.sourceUrl},xe=async()=>{if(W.value){try{await W.value.validate()}catch{return}Q.value=!0;try{const r={name:o.name,shortName:o.shortName,emoji:o.emoji,year:o.year,sort:o.sort,isShow:o.isShow,tags:o.selectedTags,description:o.description,airDate:o.airDate,airTime:o.airTime,channel:o.channel,sourceUrl:o.sourceUrl};await j.updatePlatform(F.value,r),D.success("æ›´æ–°æˆåŠŸ"),S.value=!1,await ne()}catch(r){D.error(r.message||"æ›´æ–°å¤±è´¥")}finally{Q.value=!1}}},Ce=async()=>{try{await pe.confirm(`ç¡®å®šè¦åˆ é™¤å¹³å° "${n.name}" å—ï¼Ÿ`,"æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),await j.deletePlatform(F.value),D.success("åˆ é™¤æˆåŠŸ"),re.push("/content/gala")}catch{}},ie=()=>{Object.assign(g,{title:"",type:"",performers:"",airTime:"",orderNum:C.value.length+1,duration:0,description:""}),E.value=!0},De=async()=>{H.value&&await H.value.validate(async r=>{if(r){le.value=!0;try{await j.createProgram({...g,platform_id:F.value}),D.success("åˆ›å»ºæˆåŠŸ"),E.value=!1,await A()}catch(l){D.error(l.message||"åˆ›å»ºå¤±è´¥")}finally{le.value=!1}}})},Ne=()=>{var r;(r=H.value)==null||r.resetFields()},Se=(r,l)=>{$.value={...r},N.value=l},Pe=async(r,l)=>{try{const s={title:r.title,type:r.type,performers:r.performers,airTime:r.airTime,orderNum:r.orderNum,duration:r.duration,description:r.description};await j.updateProgram(r.id,s),D.success("ä¿å­˜æˆåŠŸ"),N.value=-1,$.value=null,await A()}catch(s){D.error(s.message||"ä¿å­˜å¤±è´¥")}},je=r=>{$.value&&(C.value[r]={...$.value}),N.value=-1,$.value=null},ze=async r=>{try{await pe.confirm(`ç¡®å®šè¦åˆ é™¤èŠ‚ç›® "${r.title}" å—ï¼Ÿ`,"æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),await j.deleteProgram(r.id),D.success("åˆ é™¤æˆåŠŸ"),await A()}catch{}};return Ae(async()=>{await Promise.all([ne(),A()])}),(r,l)=>{var de;const s=m("el-button"),y=m("el-icon"),T=m("el-tab-pane"),ae=m("el-badge"),ue=m("el-tabs"),h=m("el-descriptions-item"),K=m("el-tag"),Be=m("el-link"),Re=m("el-descriptions"),w=m("el-input"),f=m("el-form-item"),b=m("el-col"),P=m("el-row"),G=m("el-input-number"),Fe=m("el-switch"),i=m("el-option"),O=m("el-select"),te=m("el-form"),Me=m("el-date-picker"),oe=m("el-time-picker"),R=m("el-table-column"),$e=m("el-table"),Ee=m("el-empty"),Le=m("el-pagination"),Ye=m("el-dialog"),qe=Ze("loading");return u(),_("div",al,[p("div",tl,[p("div",ol,[e(s,{icon:L(Ke),onClick:ke,link:""},{default:a(()=>[...l[26]||(l[26]=[d("è¿”å›åˆ—è¡¨",-1)])]),_:1},8,["icon"]),p("h2",sl,[p("span",rl,c(((de=n.emoji)==null?void 0:de.trim())||"ğŸ“º"),1),d(" "+c(n.name||"åŠ è½½ä¸­..."),1)])]),p("div",nl,[S.value?x("",!0):(u(),U(s,{key:0,onClick:Ue},{default:a(()=>[e(y,null,{default:a(()=>[e(L(Je))]),_:1}),l[27]||(l[27]=d(" ç¼–è¾‘ ",-1))]),_:1})),S.value?x("",!0):(u(),U(s,{key:1,type:"danger",onClick:Ce},{default:a(()=>[e(y,null,{default:a(()=>[e(L(Qe))]),_:1}),l[28]||(l[28]=d(" åˆ é™¤ ",-1))]),_:1})),S.value?(u(),_(Y,{key:2},[e(s,{onClick:Te},{default:a(()=>[...l[29]||(l[29]=[d("å–æ¶ˆ",-1)])]),_:1}),e(s,{type:"primary",onClick:xe,loading:Q.value},{default:a(()=>[e(y,null,{default:a(()=>[e(L(We))]),_:1}),l[30]||(l[30]=d(" ä¿å­˜ ",-1))]),_:1},8,["loading"])],64)):x("",!0)])]),e(ue,{modelValue:M.value,"onUpdate:modelValue":l[0]||(l[0]=t=>M.value=t)},{default:a(()=>[e(T,{label:"å¹³å°ä¿¡æ¯",name:"info"}),e(T,{name:"programs"},{label:a(()=>[l[31]||(l[31]=d(" èŠ‚ç›®ç®¡ç† ",-1)),C.value.length>0?(u(),U(ae,{key:0,value:C.value.length,style:{"margin-left":"8px"}},null,8,["value"])):x("",!0)]),_:1})]),_:1},8,["modelValue"]),M.value==="info"?(u(),_("div",il,[S.value?(u(),_("div",_l,[e(ue,{modelValue:J.value,"onUpdate:modelValue":l[13]||(l[13]=t=>J.value=t)},{default:a(()=>[e(T,{label:"åŸºæœ¬ä¿¡æ¯",name:"basic"},{default:a(()=>[e(te,{ref_key:"formRef",ref:W,model:o,rules:_e,"label-width":"100px"},{default:a(()=>[e(P,{gutter:20},{default:a(()=>[e(b,{span:16},{default:a(()=>[e(f,{label:"å¹³å°åç§°",prop:"name"},{default:a(()=>[e(w,{modelValue:o.name,"onUpdate:modelValue":l[1]||(l[1]=t=>o.name=t),placeholder:"å¦‚ï¼šå¤®è§†æ˜¥æ™šã€æ¹–å—æ˜¥æ™šç­‰"},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:4},{default:a(()=>[e(f,{label:"ç®€ç§°",prop:"shortName"},{default:a(()=>[e(w,{modelValue:o.shortName,"onUpdate:modelValue":l[2]||(l[2]=t=>o.shortName=t),placeholder:"å¤®",maxlength:"1"},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:4},{default:a(()=>[e(f,{label:"å›¾æ ‡"},{default:a(()=>[p("div",vl,[o.emoji?(u(),_("span",gl,c(o.emoji),1)):x("",!0),e(w,{modelValue:o.emoji,"onUpdate:modelValue":l[3]||(l[3]=t=>o.emoji=t),placeholder:"ğŸ“º",style:{width:"60px"}},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),e(P,{gutter:20},{default:a(()=>[e(b,{span:8},{default:a(()=>[e(f,{label:"å¹´ä»½",prop:"year"},{default:a(()=>[e(G,{modelValue:o.year,"onUpdate:modelValue":l[4]||(l[4]=t=>o.year=t),min:2e3,max:2100,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:8},{default:a(()=>[e(f,{label:"æ’åº"},{default:a(()=>[e(G,{modelValue:o.sort,"onUpdate:modelValue":l[5]||(l[5]=t=>o.sort=t),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:8},{default:a(()=>[e(f,{label:"æ˜¾ç¤ºçŠ¶æ€"},{default:a(()=>[e(Fe,{modelValue:o.isShow,"onUpdate:modelValue":l[6]||(l[6]=t=>o.isShow=t),"active-text":"æ˜¾ç¤º","inactive-text":"éšè—"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(f,{label:"å¹³å°æè¿°"},{default:a(()=>[e(w,{modelValue:o.description,"onUpdate:modelValue":l[7]||(l[7]=t=>o.description=t),type:"textarea",rows:4,placeholder:"è¯·è¾“å…¥å¹³å°æè¿°","show-word-limit":"",maxlength:"200"},null,8,["modelValue"])]),_:1}),e(f,{label:"æ ‡ç­¾"},{default:a(()=>[e(O,{modelValue:o.selectedTags,"onUpdate:modelValue":l[8]||(l[8]=t=>o.selectedTags=t),multiple:"",filterable:"","allow-create":"",placeholder:"é€‰æ‹©æˆ–è¾“å…¥æ ‡ç­¾",style:{width:"100%"}},{default:a(()=>[(u(),_(Y,null,me(ve,t=>e(i,{key:t,label:t,value:t},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),e(T,{label:"æ’­å‡ºä¿¡æ¯",name:"broadcast"},{default:a(()=>[e(te,{ref_key:"formRef2",ref:fe,model:o,"label-width":"100px"},{default:a(()=>[e(P,{gutter:20},{default:a(()=>[e(b,{span:12},{default:a(()=>[e(f,{label:"æ’­å‡ºæ—¥æœŸ"},{default:a(()=>[e(Me,{modelValue:o.airDate,"onUpdate:modelValue":l[9]||(l[9]=t=>o.airDate=t),type:"date",placeholder:"é€‰æ‹©æ’­å‡ºæ—¥æœŸ",style:{width:"100%"},"value-format":"YYYY-MM-DD",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:12},{default:a(()=>[e(f,{label:"æ’­å‡ºæ—¶é—´"},{default:a(()=>[e(oe,{modelValue:o.airTime,"onUpdate:modelValue":l[10]||(l[10]=t=>o.airTime=t),placeholder:"é€‰æ‹©æ’­å‡ºæ—¶é—´",style:{width:"100%"},"value-format":"HH:mm:ss",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(f,{label:"æ’­å‡ºé¢‘é“"},{default:a(()=>[e(w,{modelValue:o.channel,"onUpdate:modelValue":l[11]||(l[11]=t=>o.channel=t),placeholder:"å¦‚ï¼šCCTV-1ã€æ¹–å—å«è§†ã€Bç«™ç­‰"},null,8,["modelValue"])]),_:1}),e(f,{label:"æ•°æ®æ¥æº"},{default:a(()=>[e(w,{modelValue:o.sourceUrl,"onUpdate:modelValue":l[12]||(l[12]=t=>o.sourceUrl=t),placeholder:"æ•°æ®æ¥æºURLï¼ˆå¯é€‰ï¼‰"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])])):(u(),_("div",ul,[e(Re,{column:2,border:""},{default:a(()=>[e(h,{label:"å¹³å°åç§°"},{default:a(()=>[p("span",dl,c(n.name||"-"),1)]),_:1}),e(h,{label:"ç®€ç§°"},{default:a(()=>[p("span",ml,c(n.shortName||"-"),1)]),_:1}),e(h,{label:"å›¾æ ‡"},{default:a(()=>{var t;return[p("span",pl,c(((t=n.emoji)==null?void 0:t.trim())||"ğŸ“º"),1)]}),_:1}),e(h,{label:"å¹´ä»½"},{default:a(()=>[d(c(n.year||"-")+"å¹´ ",1)]),_:1}),e(h,{label:"æ’åº"},{default:a(()=>[d(c(n.sort??"-"),1)]),_:1}),e(h,{label:"æ˜¾ç¤ºçŠ¶æ€"},{default:a(()=>[e(K,{type:n.isShow?"success":"info",size:"small"},{default:a(()=>[d(c(n.isShow?"æ˜¾ç¤º":"éšè—"),1)]),_:1},8,["type"])]),_:1}),e(h,{label:"æ ‡ç­¾",span:2},{default:a(()=>[(u(!0),_(Y,null,me(n.tags,(t,V)=>(u(),U(K,{key:V,size:"small",style:{"margin-right":"8px"}},{default:a(()=>[d(c(t),1)]),_:2},1024))),128)),!n.tags||!n.tags.length?(u(),_("span",cl,"æš‚æ— æ ‡ç­¾")):x("",!0)]),_:1}),e(h,{label:"æ’­å‡ºæ—¥æœŸ",span:1},{default:a(()=>[d(c(he(n.airDate)),1)]),_:1}),e(h,{label:"æ’­å‡ºæ—¶é—´",span:1},{default:a(()=>{var t;return[d(c(((t=n.airTime)==null?void 0:t.substring(0,5))||"-"),1)]}),_:1}),e(h,{label:"æ’­å‡ºé¢‘é“",span:2},{default:a(()=>[d(c(n.channel||"-"),1)]),_:1}),e(h,{label:"å¹³å°æè¿°",span:2},{default:a(()=>[d(c(n.description||"æš‚æ— æè¿°"),1)]),_:1}),e(h,{label:"æ•°æ®æ¥æº",span:2},{default:a(()=>[n.sourceUrl?(u(),U(Be,{key:0,href:n.sourceUrl,target:"_blank",type:"primary"},{default:a(()=>[d(c(n.sourceUrl),1)]),_:1},8,["href"])):(u(),_("span",fl,"-"))]),_:1})]),_:1})]))])):x("",!0),M.value==="programs"?(u(),_("div",yl,[p("div",bl,[e(P,{gutter:16},{default:a(()=>[e(b,{span:6},{default:a(()=>[p("div",Vl,[l[32]||(l[32]=p("div",{class:"stat-label"},"èŠ‚ç›®æ€»æ•°",-1)),p("div",hl,c(C.value.length),1)])]),_:1}),e(b,{span:6},{default:a(()=>[p("div",wl,[l[33]||(l[33]=p("div",{class:"stat-label"},"æ€»æ—¶é•¿",-1)),p("div",kl,c(we()),1)])]),_:1}),e(b,{span:6},{default:a(()=>[p("div",Ul,[l[34]||(l[34]=p("div",{class:"stat-label"},"èŠ‚ç›®ç±»å‹",-1)),p("div",Tl,c(ye.value),1)])]),_:1}),e(b,{span:6},{default:a(()=>[p("div",xl,[l[35]||(l[35]=p("div",{class:"stat-label"},"è¡¨æ¼”è€…æ•°",-1)),p("div",Cl,c(be.value),1)])]),_:1})]),_:1})]),p("div",Dl,[e(w,{modelValue:z.value,"onUpdate:modelValue":l[14]||(l[14]=t=>z.value=t),placeholder:"æœç´¢èŠ‚ç›®åç§°æˆ–è¡¨æ¼”è€…","prefix-icon":"Search",clearable:"",style:{width:"280px","margin-right":"12px"}},null,8,["modelValue"]),e(O,{modelValue:B.value,"onUpdate:modelValue":l[15]||(l[15]=t=>B.value=t),placeholder:"ç­›é€‰ç±»å‹",clearable:"",style:{width:"150px","margin-right":"12px"}},{default:a(()=>[e(i,{label:"å…¨éƒ¨ç±»å‹",value:""}),e(i,{label:"æ­Œèˆ",value:"æ­Œèˆ"}),e(i,{label:"æ­Œæ›²",value:"æ­Œæ›²"}),e(i,{label:"å°å“",value:"å°å“"}),e(i,{label:"ç›¸å£°",value:"ç›¸å£°"}),e(i,{label:"é­”æœ¯",value:"é­”æœ¯"}),e(i,{label:"æ‚æŠ€",value:"æ‚æŠ€"}),e(i,{label:"æˆæ›²",value:"æˆæ›²"}),e(i,{label:"ç»¼è‰º",value:"ç»¼è‰º"}),e(i,{label:"è¯­è¨€",value:"è¯­è¨€"}),e(i,{label:"å…¶ä»–",value:"å…¶ä»–"})]),_:1},8,["modelValue"]),e(s,{type:"primary",onClick:ie},{default:a(()=>[e(y,null,{default:a(()=>[e(L(Xe))]),_:1}),l[36]||(l[36]=d(" æ–°å»ºèŠ‚ç›® ",-1))]),_:1})]),p("div",Nl,[Ge((u(),U($e,{data:ge.value,"row-key":"id"},{default:a(()=>[e(R,{prop:"orderNum",label:"åºå·",width:"80",align:"center"},{default:a(({row:t})=>[e(K,{size:"small"},{default:a(()=>[d(c(t.orderNum??"-"),1)]),_:2},1024)]),_:1}),e(R,{prop:"title",label:"èŠ‚ç›®åç§°","min-width":"200"},{default:a(({row:t,$index:V})=>[N.value===V?(u(),U(w,{key:0,modelValue:t.title,"onUpdate:modelValue":k=>t.title=k,size:"small",placeholder:"èŠ‚ç›®åç§°"},null,8,["modelValue","onUpdate:modelValue"])):(u(),_("span",Sl,c(t.title),1))]),_:1}),e(R,{prop:"type",label:"ç±»å‹",width:"120"},{default:a(({row:t,$index:V})=>[N.value===V?(u(),U(O,{key:0,modelValue:t.type,"onUpdate:modelValue":k=>t.type=k,size:"small",filterable:"","allow-create":""},{default:a(()=>[e(i,{label:"æ­Œèˆ",value:"æ­Œèˆ"}),e(i,{label:"æ­Œæ›²",value:"æ­Œæ›²"}),e(i,{label:"å°å“",value:"å°å“"}),e(i,{label:"ç›¸å£°",value:"ç›¸å£°"}),e(i,{label:"é­”æœ¯",value:"é­”æœ¯"}),e(i,{label:"æ‚æŠ€",value:"æ‚æŠ€"}),e(i,{label:"æˆæ›²",value:"æˆæ›²"}),e(i,{label:"ç»¼è‰º",value:"ç»¼è‰º"}),e(i,{label:"è¯­è¨€",value:"è¯­è¨€"}),e(i,{label:"å…¶ä»–",value:"å…¶ä»–"})]),_:1},8,["modelValue","onUpdate:modelValue"])):t.type?(u(),U(K,{key:1,size:"small"},{default:a(()=>[d(c(t.type),1)]),_:2},1024)):(u(),_("span",Pl,"-"))]),_:1}),e(R,{prop:"performers",label:"è¡¨æ¼”è€…","min-width":"180"},{default:a(({row:t,$index:V})=>[N.value===V?(u(),U(w,{key:0,modelValue:t.performers,"onUpdate:modelValue":k=>t.performers=k,size:"small",placeholder:"è¡¨æ¼”è€…"},null,8,["modelValue","onUpdate:modelValue"])):(u(),_("span",jl,c(t.performers||"-"),1))]),_:1}),e(R,{prop:"airTime",label:"æ’­å‡ºæ—¶é—´",width:"100"},{default:a(({row:t,$index:V})=>{var k;return[N.value===V?(u(),U(oe,{key:0,modelValue:t.airTime,"onUpdate:modelValue":He=>t.airTime=He,size:"small","value-format":"HH:mm:ss",clearable:""},null,8,["modelValue","onUpdate:modelValue"])):(u(),_("span",zl,c(((k=t.airTime)==null?void 0:k.substring(0,5))||"-"),1))]}),_:1}),e(R,{label:"æ“ä½œ",width:"160",fixed:"right"},{default:a(({row:t,$index:V})=>[N.value===V?(u(),_(Y,{key:0},[e(s,{size:"small",type:"primary",onClick:k=>Pe(t,V)},{default:a(()=>[...l[37]||(l[37]=[d("ä¿å­˜",-1)])]),_:1},8,["onClick"]),e(s,{size:"small",onClick:k=>je(V)},{default:a(()=>[...l[38]||(l[38]=[d("å–æ¶ˆ",-1)])]),_:1},8,["onClick"])],64)):(u(),_(Y,{key:1},[e(s,{size:"small",onClick:k=>Se(t,V)},{default:a(()=>[...l[39]||(l[39]=[d("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),e(s,{size:"small",type:"danger",onClick:k=>ze(t)},{default:a(()=>[...l[40]||(l[40]=[d("åˆ é™¤",-1)])]),_:1},8,["onClick"])],64))]),_:1})]),_:1},8,["data"])),[[qe,q.value]]),!q.value&&I.value.length===0?(u(),_("div",Bl,[e(Ee,{description:z.value||B.value?"æœªæ‰¾åˆ°ç›¸å…³èŠ‚ç›®":"æš‚æ— èŠ‚ç›®"},{default:a(()=>[!z.value&&!B.value?(u(),U(s,{key:0,type:"primary",onClick:ie},{default:a(()=>[...l[41]||(l[41]=[d(" æ–°å»ºèŠ‚ç›® ",-1)])]),_:1})):x("",!0)]),_:1},8,["description"])])):x("",!0),I.value.length>0?(u(),_("div",Rl,[e(Le,{"current-page":X.value,"onUpdate:currentPage":l[16]||(l[16]=t=>X.value=t),"page-size":ee.value,total:I.value.length,layout:"total, prev, pager, next",small:!0},null,8,["current-page","page-size","total"])])):x("",!0)])])):x("",!0),e(Ye,{modelValue:E.value,"onUpdate:modelValue":l[25]||(l[25]=t=>E.value=t),title:"æ–°å»ºèŠ‚ç›®",width:"700px",onClosed:Ne},{footer:a(()=>[e(s,{onClick:l[24]||(l[24]=t=>E.value=!1)},{default:a(()=>[...l[42]||(l[42]=[d("å–æ¶ˆ",-1)])]),_:1}),e(s,{type:"primary",onClick:De,loading:le.value},{default:a(()=>[...l[43]||(l[43]=[d(" ç¡®å®š ",-1)])]),_:1},8,["loading"])]),default:a(()=>[e(te,{ref_key:"programFormRef",ref:H,model:g,rules:Ve,"label-width":"90px"},{default:a(()=>[e(P,{gutter:20},{default:a(()=>[e(b,{span:14},{default:a(()=>[e(f,{label:"èŠ‚ç›®åç§°",prop:"title"},{default:a(()=>[e(w,{modelValue:g.title,"onUpdate:modelValue":l[17]||(l[17]=t=>g.title=t),placeholder:"è¯·è¾“å…¥èŠ‚ç›®åç§°",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:10},{default:a(()=>[e(f,{label:"èŠ‚ç›®åºå·"},{default:a(()=>[e(G,{modelValue:g.orderNum,"onUpdate:modelValue":l[18]||(l[18]=t=>g.orderNum=t),min:0,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(P,{gutter:20},{default:a(()=>[e(b,{span:14},{default:a(()=>[e(f,{label:"èŠ‚ç›®ç±»å‹"},{default:a(()=>[e(O,{modelValue:g.type,"onUpdate:modelValue":l[19]||(l[19]=t=>g.type=t),placeholder:"é€‰æ‹©èŠ‚ç›®ç±»å‹",style:{width:"100%"},filterable:"","allow-create":"",clearable:""},{default:a(()=>[e(i,{label:"æ­Œèˆ",value:"æ­Œèˆ"}),e(i,{label:"æ­Œæ›²",value:"æ­Œæ›²"}),e(i,{label:"å°å“",value:"å°å“"}),e(i,{label:"ç›¸å£°",value:"ç›¸å£°"}),e(i,{label:"é­”æœ¯",value:"é­”æœ¯"}),e(i,{label:"æ‚æŠ€",value:"æ‚æŠ€"}),e(i,{label:"æˆæ›²",value:"æˆæ›²"}),e(i,{label:"ç»¼è‰º",value:"ç»¼è‰º"}),e(i,{label:"è¯­è¨€",value:"è¯­è¨€"}),e(i,{label:"å…¶ä»–",value:"å…¶ä»–"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(b,{span:10},{default:a(()=>[e(f,{label:"æ—¶é•¿(ç§’)"},{default:a(()=>[e(G,{modelValue:g.duration,"onUpdate:modelValue":l[20]||(l[20]=t=>g.duration=t),min:0,step:60,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(f,{label:"è¡¨æ¼”è€…"},{default:a(()=>[e(w,{modelValue:g.performers,"onUpdate:modelValue":l[21]||(l[21]=t=>g.performers=t),placeholder:"è¯·è¾“å…¥è¡¨æ¼”è€…ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš”",clearable:""},null,8,["modelValue"])]),_:1}),e(P,{gutter:20},{default:a(()=>[e(b,{span:14},{default:a(()=>[e(f,{label:"æ’­å‡ºæ—¶é—´"},{default:a(()=>[e(oe,{modelValue:g.airTime,"onUpdate:modelValue":l[22]||(l[22]=t=>g.airTime=t),placeholder:"é€‰æ‹©æ’­å‡ºæ—¶é—´",style:{width:"100%"},"value-format":"HH:mm:ss",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(f,{label:"èŠ‚ç›®æè¿°"},{default:a(()=>[e(w,{modelValue:g.description,"onUpdate:modelValue":l[23]||(l[23]=t=>g.description=t),type:"textarea",rows:3,placeholder:"è¯·è¾“å…¥èŠ‚ç›®æè¿°ï¼ˆå¯é€‰ï¼‰","show-word-limit":"",maxlength:"200",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),ql=ll(Fl,[["__scopeId","data-v-30724127"]]);export{ql as default};
